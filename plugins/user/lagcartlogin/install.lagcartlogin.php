<?php  defined ( '_JEXEC' ) or die ( 'Restricted access' );    class plgUserLagcartloginInstallerScript {    	public function postflight($type, $parent) {    		    		if ($type == 'uninstall') return true;        	$this->enablePlugin('user', 'lagcartlogin');     						//получаем значение сортировки плагина  plg_user_joomla чтобы при установке Плагин lagcartlogin должен следовать после плагина Пользователь - Joomla.				$db = JFactory::getDbo(); 			$q = 'select ordering from `#__extensions` where name="plg_user_joomla" AND type="plugin" AND element="joomla" AND folder="user" LIMIT 1'; 	        $db->setQuery($q); 	        $ordering = $db->loadResult();			$db->execute();			//установим сортировку плагина сразу после плагина Пользователь - Joomla.			$ordering++;			//echo $ordering;			$q = 'update #__extensions set `ordering` = '.(int)$ordering.' where name="lagcartlogin" AND type="plugin" AND element="lagcartlogin" AND folder="user"';    		$db->setQuery($q); 			//Выполним запрос	        $db->query();	            $db->execute();        	return true;    	}    	function enablePlugin($group, $element) {		    //echo $group;    		$plugin = JTable::getInstance('extension');			    		$id = $plugin->find(array('type' => 'plugin', 'folder' => $group, 'element' => $element));			//echo $id ;            if ($id) {                $plugin->load($id);                $plugin->enabled = 1;  				$plugin->store();            }			    	}    }